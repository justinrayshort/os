//! Centralized Fluent UI System Icon abstraction for the desktop shell.
//!
//! This module provides semantic icon identifiers and a single SVG renderer so shell
//! components do not embed raw icon strings or ad-hoc SVG snippets. The current catalog
//! uses a subset of Fluent UI System Icons (`@fluentui/svg-icons`, regular 24px) mapped
//! to desktop-shell semantics.

use leptos::*;

use desktop_app_contract::ApplicationId;

use crate::apps;

#[derive(Debug, Clone, Copy, PartialEq, Eq, Hash)]
/// Semantic icon identifiers used by shell components.
pub enum IconName {
    /// Calculator app icon.
    Calculator,
    /// Explorer / folder app icon.
    ExplorerFolder,
    /// Text document / notepad app icon.
    DocumentText,
    /// Paint app icon.
    PaintBrush,
    /// Terminal / developer tools app icon.
    Terminal,
    /// System settings app icon.
    Settings,
    /// Dial-up / connect app icon.
    Connect,
    /// Start/launcher button glyph.
    Launcher,
    /// Generic multi-window status icon.
    WindowMultiple,
    /// Desktop-to-background/minimized status icon.
    DesktopArrowDown,
    /// Network online icon.
    WifiOn,
    /// Network offline icon.
    WifiOff,
    /// Motion/effects enabled icon.
    MotionOn,
    /// Reduced motion enabled icon.
    MotionOff,
    /// Expand/open chevron icon.
    ChevronDown,
    /// Checkmark icon.
    Checkmark,
    /// Window minimize control icon.
    WindowMinimize,
    /// Window maximize control icon.
    WindowMaximize,
    /// Window restore control icon.
    WindowRestore,
    /// Dismiss/close icon.
    Dismiss,
}

impl IconName {
    /// Stable token used for CSS hooks and debugging.
    pub const fn token(self) -> &'static str {
        match self {
            Self::Calculator => "calculator",
            Self::ExplorerFolder => "explorer-folder",
            Self::DocumentText => "document-text",
            Self::PaintBrush => "paint-brush",
            Self::Terminal => "terminal",
            Self::Settings => "settings",
            Self::Connect => "connect",
            Self::Launcher => "launcher",
            Self::WindowMultiple => "window-multiple",
            Self::DesktopArrowDown => "desktop-arrow-down",
            Self::WifiOn => "wifi-on",
            Self::WifiOff => "wifi-off",
            Self::MotionOn => "motion-on",
            Self::MotionOff => "motion-off",
            Self::ChevronDown => "chevron-down",
            Self::Checkmark => "checkmark",
            Self::WindowMinimize => "window-minimize",
            Self::WindowMaximize => "window-maximize",
            Self::WindowRestore => "window-restore",
            Self::Dismiss => "dismiss",
        }
    }

    /// Raw SVG body markup for the icon.
    ///
    /// The paths are copied from `@fluentui/svg-icons` regular 24px SVG assets.
    fn svg_body(self) -> &'static str {
        match self {
            Self::Calculator => {
                r#"<path d="M7.75 5C6.78 5 6 5.78 6 6.75v1c0 .97.78 1.75 1.75 1.75h5.5c.97 0 1.75-.78 1.75-1.75v-1C15 5.78 14.22 5 13.25 5h-5.5ZM7.5 6.75c0-.14.11-.25.25-.25h5.5c.14 0 .25.11.25.25v1c0 .14-.11.25-.25.25h-5.5a.25.25 0 0 1-.25-.25v-1Zm3 4a1.25 1.25 0 1 0 0 2.5 1.25 1.25 0 0 0 0-2.5ZM9.25 15.5a1.25 1.25 0 1 1 2.5 0 1.25 1.25 0 0 1-2.5 0ZM7 10.75a1.25 1.25 0 1 0 0 2.5 1.25 1.25 0 0 0 0-2.5ZM5.75 15.5a1.25 1.25 0 1 1 2.5 0 1.25 1.25 0 0 1-2.5 0ZM14 10.75a1.25 1.25 0 1 0 0 2.5 1.25 1.25 0 0 0 0-2.5Zm-1.25 4.75a1.25 1.25 0 1 1 2.5 0 1.25 1.25 0 0 1-2.5 0ZM6.14 2A3.14 3.14 0 0 0 3 5.14v11.22c0 1.74 1.4 3.14 3.14 3.14h8.72c1.74 0 3.14-1.4 3.14-3.14V5.14C18 3.4 16.6 2 14.86 2H6.14ZM4.5 5.14c0-.9.73-1.64 1.64-1.64h8.72c.9 0 1.64.73 1.64 1.64v11.22c0 .9-.73 1.64-1.64 1.64H6.14c-.9 0-1.64-.73-1.64-1.64V5.14Zm1.3 15.35c.45.9 1.38 1.51 2.46 1.51h6.99c2.9 0 5.25-2.35 5.25-5.25v-9.5c0-1.07-.62-2-1.51-2.46l.01.35V16.75a3.75 3.75 0 0 1-3.75 3.75H6.14l-.34-.01Z"/>"#
            }
            Self::ExplorerFolder => {
                r#"<path d="M3.5 6.25c0-.97.78-1.75 1.75-1.75h2.88c.2 0 .39.08.53.22l2.06 2.06c.14.14.33.22.53.22h5.5c.97 0 1.75.78 1.75 1.75 0 .09.01.17.04.25H8.72c-1.34 0-2.58.71-3.25 1.87L3.5 14.28V6.25ZM2 17.79A3.25 3.25 0 0 0 5.25 21h11.04c1.33 0 2.57-.72 3.24-1.88l3.03-5.25A3.25 3.25 0 0 0 19.96 9a.75.75 0 0 0 .04-.25c0-1.8-1.45-3.25-3.25-3.25h-5.19L9.72 3.66c-.42-.42-1-.66-1.6-.66H5.26A3.25 3.25 0 0 0 2 6.25V17.79Zm6.72-7.3h11.03a1.75 1.75 0 0 1 1.51 2.63l-3.03 5.25c-.4.7-1.14 1.13-1.95 1.13H5.25a1.75 1.75 0 0 1-1.51-2.63l3.03-5.25c.4-.7 1.14-1.12 1.95-1.12Z"/>"#
            }
            Self::DocumentText => {
                r#"<path d="M8.75 11.5a.75.75 0 0 0 0 1.5h6.5a.75.75 0 0 0 0-1.5h-6.5Zm0 2.75a.75.75 0 0 0 0 1.5h6.5a.75.75 0 0 0 0-1.5h-6.5Zm0 2.75a.75.75 0 0 0 0 1.5h6.5a.75.75 0 0 0 0-1.5h-6.5Zm4.84-14.41L19.4 8.4A2 2 0 0 1 20 9.83V20a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4c0-1.1.9-2 2-2h6.17c.52 0 1.05.22 1.42.59ZM18 20.5a.5.5 0 0 0 .5-.5V10H14a2 2 0 0 1-2-2V3.5H6a.5.5 0 0 0-.5.5v16c0 .27.22.5.5.5h12Zm-.62-12L13.5 4.62V8c0 .28.22.5.5.5h3.38Z"/>"#
            }
            Self::PaintBrush => {
                r#"<path d="M5.75 2a.75.75 0 0 0-.75.75v11.5c0 1.24 1 2.25 2.25 2.25H9.5v3a2.5 2.5 0 1 0 5 0v-3h2.25c1.24 0 2.25-1 2.25-2.25V2.75a.75.75 0 0 0-.75-.75H5.75Zm.75 9V3.5h6v1.75a.75.75 0 1 0 1.5 0V3.5h1v2.75a.75.75 0 1 0 1.5 0V3.5h1V11h-11Zm0 3.25V12.5h11v1.75c0 .41-.34.75-.75.75h-3a.75.75 0 0 0-.75.75v3.75a1 1 0 0 1-2 0v-3.75a.75.75 0 0 0-.75-.75h-3a.75.75 0 0 1-.75-.75Z"/>"#
            }
            Self::Terminal => {
                r#"<path d="M3 6.25C3 4.45 4.46 3 6.25 3h11.5C19.55 3 21 4.46 21 6.25v5.66a1.4 1.4 0 0 0-.99-.8 5.08 5.08 0 0 0-.51-.08V8.5h-15v9.25c0 .97.78 1.75 1.75 1.75h5.68l-.19.19c-.37.37-.6.83-.7 1.31H6.25A3.25 3.25 0 0 1 3 17.75V6.25Zm13 5.68-1.72-1.71a.75.75 0 1 0-1.06 1.06l1.7 1.7a5.12 5.12 0 0 1 1.07-1.05ZM4.5 7h15v-.75c0-.97-.78-1.75-1.75-1.75H6.25c-.97 0-1.75.78-1.75 1.75V7Zm6.28 4.28a.75.75 0 1 0-1.06-1.06l-3 3c-.3.3-.3.77 0 1.06l3 3a.75.75 0 1 0 1.06-1.06l-2.47-2.47 2.47-2.47Zm9.02.81c.35.08.44.51.18.77l-1.9 1.9a1.53 1.53 0 0 0 2.16 2.16l1.9-1.9c.26-.26.69-.17.77.18a4.07 4.07 0 0 1-5.57 4.62l-2.73 2.73a1.53 1.53 0 0 1-2.16-2.16l2.73-2.73a4.07 4.07 0 0 1 4.62-5.57Z"/>"#
            }
            Self::Settings => {
                r#"<path d="M12 2a1 1 0 0 1 .98.8l.25 1.2a8.1 8.1 0 0 1 1.74.72l1.06-.64a1 1 0 0 1 1.24.15l1.58 1.58a1 1 0 0 1 .15 1.24l-.64 1.06c.3.55.54 1.13.72 1.74l1.2.25a1 1 0 0 1 .8.98v2.24a1 1 0 0 1-.8.98l-1.2.25a8.1 8.1 0 0 1-.72 1.74l.64 1.06a1 1 0 0 1-.15 1.24l-1.58 1.58a1 1 0 0 1-1.24.15l-1.06-.64a8.1 8.1 0 0 1-1.74.72l-.25 1.2a1 1 0 0 1-.98.8H9.76a1 1 0 0 1-.98-.8l-.25-1.2a8.1 8.1 0 0 1-1.74-.72l-1.06.64a1 1 0 0 1-1.24-.15l-1.58-1.58a1 1 0 0 1-.15-1.24l.64-1.06a8.1 8.1 0 0 1-.72-1.74l-1.2-.25a1 1 0 0 1-.8-.98V9.76a1 1 0 0 1 .8-.98l1.2-.25c.18-.61.42-1.19.72-1.74l-.64-1.06a1 1 0 0 1 .15-1.24l1.58-1.58a1 1 0 0 1 1.24-.15l1.06.64c.55-.3 1.13-.54 1.74-.72l.25-1.2A1 1 0 0 1 9.76 2H12Zm-.38 1.5H10.4l-.24 1.16a1 1 0 0 1-.76.78 6.6 6.6 0 0 0-2.2.91 1 1 0 0 1-1.09.02l-1.02-.62-.86.86.62 1.02a1 1 0 0 1-.02 1.09 6.6 6.6 0 0 0-.91 2.2 1 1 0 0 1-.78.76L2 11.62v1.2l1.16.24a1 1 0 0 1 .78.76 6.6 6.6 0 0 0 .91 2.2 1 1 0 0 1 .02 1.09l-.62 1.02.86.86 1.02-.62a1 1 0 0 1 1.09.02 6.6 6.6 0 0 0 2.2.91 1 1 0 0 1 .76.78l.24 1.16h1.2l.24-1.16a1 1 0 0 1 .76-.78 6.6 6.6 0 0 0 2.2-.91 1 1 0 0 1 1.09-.02l1.02.62.86-.86-.62-1.02a1 1 0 0 1 .02-1.09 6.6 6.6 0 0 0 .91-2.2 1 1 0 0 1 .78-.76l1.16-.24v-1.2l-1.16-.24a1 1 0 0 1-.78-.76 6.6 6.6 0 0 0-.91-2.2 1 1 0 0 1-.02-1.09l.62-1.02-.86-.86-1.02.62a1 1 0 0 1-1.09-.02 6.6 6.6 0 0 0-2.2-.91 1 1 0 0 1-.76-.78l-.24-1.16ZM11 8a3 3 0 1 1 0 6 3 3 0 0 1 0-6Zm0 1.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Z"/>"#
            }
            Self::Connect => {
                r#"<path d="M19.49 5.57a5.97 5.97 0 0 1-1.9 8.96c-.64.35-1.42.14-1.94-.38l-5.8-5.8c-.52-.52-.73-1.3-.38-1.95a6 6 0 0 1 8.96-1.89l2.29-2.29a.75.75 0 1 1 1.06 1.06l-2.29 2.3Zm-2.02 7.26a4.5 4.5 0 1 0-6.3-6.3c-.27.35-.19.83.12 1.14l5.04 5.04c.31.3.8.39 1.14.12ZM3.28 21.78l2.3-2.29a5.97 5.97 0 0 0 8.95-1.9c.35-.64.14-1.42-.38-1.94l-5.8-5.8c-.52-.52-1.3-.73-1.95-.38a6 6 0 0 0-1.89 8.96l-2.29 2.29a.75.75 0 1 0 1.06 1.06Zm4.39-10.49 5.04 5.04c.3.31.39.8.12 1.14a4.5 4.5 0 1 1-6.3-6.3c.35-.27.83-.19 1.14.12Z"/>"#
            }
            Self::Launcher => {
                r#"<path d="M6.25 3A3.25 3.25 0 0 0 3 6.25v11.5C3 19.55 4.46 21 6.25 21h2.76L9 20.75V19.5H6.25c-.97 0-1.75-.78-1.75-1.75V8.5h15V9H21V6.26C21 4.45 19.54 3 17.75 3H6.25ZM19.5 7h-15v-.75c0-.97.78-1.75 1.75-1.75h11.5c.97 0 1.75.78 1.75 1.75V7Zm-7.25 8.5h3.25v-3.25c0-1.24 1-2.25 2.25-2.25h3c1.24 0 2.25 1 2.25 2.25v7.5c0 1.8-1.46 3.25-3.25 3.25h-7.5C11.01 23 10 22 10 20.75v-3c0-1.24 1-2.25 2.25-2.25ZM17 12.25v3.25h4.5v-3.25a.75.75 0 0 0-.75-.75h-3a.75.75 0 0 0-.75.75Zm-1.5 9.25V17h-3.25a.75.75 0 0 0-.75.75v3c0 .41.34.75.75.75h3.25ZM17 17v4.5h2.75c.97 0 1.75-.78 1.75-1.75V17H17Z"/>"#
            }
            Self::WindowMultiple => {
                r#"<path d="M19 6.01c1.68.13 3 1.53 3 3.24v8A4.75 4.75 0 0 1 17.25 22h-8a3.25 3.25 0 0 1-3.24-3h1.51c.12.85.85 1.5 1.73 1.5h8c1.8 0 3.25-1.46 3.25-3.25v-8c0-.88-.65-1.6-1.5-1.73V6.01ZM14.75 2C16.55 2 18 3.46 18 5.25v9.5c0 1.8-1.46 3.25-3.25 3.25h-9.5A3.25 3.25 0 0 1 2 14.75v-9.5C2 3.45 3.46 2 5.25 2h9.5ZM3.5 14.75c0 .97.78 1.75 1.75 1.75h9.5c.97 0 1.75-.78 1.75-1.75V7.5h-13v7.25ZM5.25 3.5c-.97 0-1.75.78-1.75 1.75V6h13v-.75c0-.97-.78-1.75-1.75-1.75h-9.5Z"/>"#
            }
            Self::DesktopArrowDown => {
                r#"<path d="M23 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0Zm-5-3a.5.5 0 0 0-1 0v4.8l-1.65-1.65a.5.5 0 0 0-.7.7l2.5 2.5c.2.2.5.2.7 0l2.5-2.5a.5.5 0 0 0-.7-.7L18 8.29V3.5Zm2.5 12.25v-3.48a6.52 6.52 0 0 0 1.5-1.08v4.56c0 1.2-.93 2.17-2.1 2.25h-4.4v2.5h1.75a.75.75 0 0 1 .1 1.5H6.75a.75.75 0 0 1-.1-1.5H8.5V18H4.25c-1.2 0-2.17-.92-2.24-2.1L2 15.76V5.25c0-1.2.93-2.17 2.1-2.25h7.92c-.3.46-.53.97-.7 1.5H4.24c-.38 0-.7.28-.74.65l-.01.1v10.5c0 .38.28.7.65.74l.1.01h15.5c.38 0 .7-.28.74-.65v-.1ZM14 18h-4v2.5h4V18Z"/>"#
            }
            Self::WifiOn => {
                r#"<path d="M17.74 10.75c.6.6 1.1 1.3 1.5 2.07a.75.75 0 1 1-1.34.68 6.56 6.56 0 0 0-11.71-.02.75.75 0 1 1-1.34-.67 8.06 8.06 0 0 1 12.9-2.06Zm-2.1 3.07c.45.45.82 1 1.08 1.58a.75.75 0 1 1-1.38.6A3.6 3.6 0 0 0 8.75 16a.75.75 0 1 1-1.37-.6 5.1 5.1 0 0 1 8.26-1.57Zm4.8-5.54c.52.5 1 1.09 1.42 1.7a.75.75 0 1 1-1.24.85 10.45 10.45 0 0 0-17.23 0 .75.75 0 0 1-1.23-.86 11.95 11.95 0 0 1 18.29-1.69Zm-7.38 8.16a1.5 1.5 0 1 1-2.12 2.12 1.5 1.5 0 0 1 2.12-2.12Z"/>"#
            }
            Self::WifiOff => {
                r#"<path d="M3.28 2.22a.75.75 0 1 0-1.06 1.06l3.36 3.36a12 12 0 0 0-3.42 3.33.75.75 0 1 0 1.23.85 10.47 10.47 0 0 1 3.28-3.09l1.6 1.6a8.06 8.06 0 0 0-3.42 3.48.75.75 0 0 0 1.34.67 6.51 6.51 0 0 1 3.2-3.03l1.93 1.93a5.07 5.07 0 0 0-3.94 3 .75.75 0 0 0 1.37.61 3.59 3.59 0 0 1 4.1-2.07l7.87 7.86a.75.75 0 0 0 1.06-1.06L3.28 2.22Zm8.3 6.18L13.17 10a6.53 6.53 0 0 1 4.73 3.51.75.75 0 0 0 1.34-.68 8.04 8.04 0 0 0-7.65-4.42Zm-3.1-3.1 1.23 1.23a10.44 10.44 0 0 1 10.91 4.3.75.75 0 0 0 1.24-.85A11.95 11.95 0 0 0 8.49 5.3Zm4.58 11.14a1.5 1.5 0 1 1-2.12 2.12 1.5 1.5 0 0 1 2.12-2.12Z"/>"#
            }
            Self::MotionOn => {
                r#"<path d="M8.6 2c-.53 0-1 .33-1.17.83L4.1 12.15a1.75 1.75 0 0 0 1.65 2.34H7.3l-1.27 5.67c-.33 1.48 1.5 2.46 2.55 1.38l3.95-4.09a1.9 1.9 0 0 0-.11-.04l-1.39-.45-.08-.03-3.45 3.56 1.47-6.58a.75.75 0 0 0-.73-.91l-2.5-.01a.25.25 0 0 1-.23-.33L8.78 3.5h5.93l-1.67 5.01a.75.75 0 0 0 .71.99h4.4l-1.3 1.35.08.18v.01l.45 1.39.01.02 2.26-2.33c.77-.8.2-2.12-.9-2.12h-3.96l1.45-4.35c.27-.81-.33-1.65-1.18-1.65H8.6Zm5.25 15.15a2.85 2.85 0 0 1 .69 1.11l.45 1.38a.54.54 0 0 0 1.02 0l.45-1.38a2.84 2.84 0 0 1 1.8-1.8l1.38-.44a.54.54 0 0 0 0-1.03h-.03l-1.38-.45a2.84 2.84 0 0 1-1.8-1.8L16 11.36a.54.54 0 0 0-1.03 0l-.45 1.38-.01.03a2.84 2.84 0 0 1-1.76 1.77l-1.38.44a.54.54 0 0 0 0 1.03l1.38.45c.42.14.8.37 1.11.69Zm7.93 4.06-.76-.25a1.58 1.58 0 0 1-1-1l-.25-.76a.3.3 0 0 0-.57 0l-.25.77a1.58 1.58 0 0 1-.98 1l-.77.24a.3.3 0 0 0 0 .57l.77.25a1.58 1.58 0 0 1 1 1l.24.77a.3.3 0 0 0 .58 0l.24-.77a1.58 1.58 0 0 1 1-1l.77-.24a.3.3 0 0 0 0-.57h-.02Z"/>"#
            }
            Self::MotionOff => {
                r#"<path d="M5.94 7 2.22 3.28a.75.75 0 1 1 1.06-1.06l18.5 18.5a.75.75 0 0 1-1.06 1.06l-6.28-6.28-5.85 6.04c-1.06 1.08-2.88.1-2.55-1.38l1.27-5.66-1.57-.01c-1.2 0-2.04-1.2-1.64-2.34L5.94 7Zm7.44 7.44L7.1 8.17l-1.6 4.49c-.05.16.07.33.24.33l2.5.01a.75.75 0 0 1 .73.91L7.51 20.5l5.87-6.05Zm4.78-4.94-2.7 2.78 1.06 1.06 3.13-3.22c.76-.8.2-2.12-.9-2.12h-3.96l1.45-4.35c.27-.81-.33-1.65-1.18-1.65H8.6c-.53 0-1 .33-1.18.83l-.37 1.04 1.18 1.18.55-1.55h5.93l-1.67 5.01a.75.75 0 0 0 .7.99h4.42Z"/>"#
            }
            Self::ChevronDown => {
                r#"<path d="M4.22 8.47c.3-.3.77-.3 1.06 0L12 15.19l6.72-6.72a.75.75 0 1 1 1.06 1.06l-7.25 7.25c-.3.3-.77.3-1.06 0L4.22 9.53a.75.75 0 0 1 0-1.06Z"/>"#
            }
            Self::Checkmark => {
                r#"<path d="M4.53 12.97a.75.75 0 0 0-1.06 1.06l4.5 4.5c.3.3.77.3 1.06 0l11-11a.75.75 0 0 0-1.06-1.06L8.5 16.94l-3.97-3.97Z"/>"#
            }
            Self::WindowMinimize => {
                r#"<path d="M3.75 12.5h16.5a.75.75 0 0 0 0-1.5H3.75a.75.75 0 0 0 0 1.5Z"/>"#
            }
            Self::WindowMaximize => {
                r#"<path d="M3 6.25C3 4.45 4.46 3 6.25 3h11.5C19.55 3 21 4.46 21 6.25v11.5c0 1.8-1.46 3.25-3.25 3.25H6.25A3.25 3.25 0 0 1 3 17.75V6.25ZM6.25 4.5c-.97 0-1.75.78-1.75 1.75v11.5c0 .97.78 1.75 1.75 1.75h11.5c.97 0 1.75-.78 1.75-1.75V6.25c0-.97-.78-1.75-1.75-1.75H6.25Z"/>"#
            }
            Self::WindowRestore => {
                r#"<path d="M7.52 5H6c.13-1.68 1.53-3 3.24-3h8A4.75 4.75 0 0 1 22 6.75v8a3.25 3.25 0 0 1-3 3.24v-1.5c.85-.13 1.5-.86 1.5-1.74v-8c0-1.8-1.46-3.25-3.25-3.25h-8c-.88 0-1.61.65-1.73 1.5ZM5.25 6A3.25 3.25 0 0 0 2 9.25v9.5C2 20.55 3.46 22 5.25 22h9.5c1.8 0 3.25-1.46 3.25-3.25v-9.5C18 7.45 16.55 6 14.75 6h-9.5ZM3.5 9.25c0-.97.78-1.75 1.75-1.75h9.5c.97 0 1.75.78 1.75 1.75v9.5c0 .97-.78 1.75-1.75 1.75h-9.5c-.97 0-1.75-.78-1.75-1.75v-9.5Z"/>"#
            }
            Self::Dismiss => {
                r#"<path d="m4.4 4.55.07-.08a.75.75 0 0 1 .98-.07l.08.07L12 10.94l6.47-6.47a.75.75 0 1 1 1.06 1.06L13.06 12l6.47 6.47c.27.27.3.68.07.98l-.07.08a.75.75 0 0 1-.98.07l-.08-.07L12 13.06l-6.47 6.47a.75.75 0 0 1-1.06-1.06L10.94 12 4.47 5.53a.75.75 0 0 1-.07-.98l.07-.08-.07.08Z"/>"#
            }
        }
    }
}

#[derive(Debug, Default, Clone, Copy, PartialEq, Eq, Hash)]
/// Standardized shell icon sizes.
pub enum IconSize {
    /// 14px compact icon (dense controls).
    Xs,
    /// 16px standard icon (menus/taskbar/tray).
    #[default]
    Sm,
    /// 20px medium icon (window chrome / prominent controls).
    Md,
    /// 24px large icon (desktop launchers).
    Lg,
}

impl IconSize {
    /// Pixel size for the icon.
    pub const fn px(self) -> u16 {
        match self {
            Self::Xs => 14,
            Self::Sm => 16,
            Self::Md => 20,
            Self::Lg => 24,
        }
    }

    /// Stable size token used for CSS hooks and debugging.
    pub const fn token(self) -> &'static str {
        match self {
            Self::Xs => "xs",
            Self::Sm => "sm",
            Self::Md => "md",
            Self::Lg => "lg",
        }
    }
}

/// Returns the semantic Fluent icon mapped to an application id.
pub fn app_icon_name(app_id: &ApplicationId) -> IconName {
    apps::app_icon_name_by_id(app_id)
}

#[component]
/// Renders a Fluent UI System Icon SVG from the centralized shell icon catalog.
pub fn FluentIcon(
    /// Semantic icon identifier.
    icon: IconName,
    /// Standardized icon size token.
    #[prop(default = IconSize::Sm)]
    size: IconSize,
) -> impl IntoView {
    let size_px = size.px().to_string();

    view! {
        <svg
            class="ui-icon"
            data-icon=icon.token()
            data-size=size.token()
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24"
            width=size_px.clone()
            height=size_px
            fill="currentColor"
            focusable="false"
            aria-hidden="true"
            inner_html=icon.svg_body()
        />
    }
}
